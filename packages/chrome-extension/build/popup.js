(()=>{"use strict";(()=>{const e=e=>{chrome.storage.sync.get(["count"],t=>{e(t.count)})},t=(e,t)=>{chrome.storage.sync.set({count:e},()=>{t()})};function n(e=0){document.getElementById("counter").innerHTML=e,document.getElementById("incrementBtn").addEventListener("click",()=>{o({type:"INCREMENT"})}),document.getElementById("decrementBtn").addEventListener("click",()=>{o({type:"DECREMENT"})})}function o({type:n}){e(e=>{let o;o="INCREMENT"===n?e+1:"DECREMENT"===n?e-1:e,t(o,()=>{document.getElementById("counter").innerHTML=o,chrome.tabs.query({active:!0,currentWindow:!0},e=>{const t=e[0];chrome.tabs.sendMessage(t.id,{payload:{count:o},type:"COUNT"},e=>{console.log("Current count value passed to contentScript file")})})})})}document.addEventListener("DOMContentLoaded",function(){e(e=>{void 0===e?t(0,()=>{n(0)}):n(e)})}),chrome.runtime.sendMessage({payload:{message:"Hello, my name is Pop. I am from Popup."},type:"GREETINGS"},e=>{console.log(e.message)})})()})();